<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI解决方案游戏</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://code.jquery.com/ui/1.13.2/jquery-ui.min.js"></script>
    <link rel="stylesheet" href="https://code.jquery.com/ui/1.13.2/themes/base/jquery-ui.css">
    <style>
        .card {
            transition: all 0.3s ease;
            cursor: grab;
        }
        .card:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
        }
        .canvas-card {
            position: relative;
            margin: 5px;
            display: inline-block;
        }
        #canvas {
            min-height: 300px;
            background: linear-gradient(45deg, #f8f9fa 25%, transparent 25%), 
                        linear-gradient(-45deg, #f8f9fa 25%, transparent 25%), 
                        linear-gradient(45deg, transparent 75%, #f8f9fa 75%), 
                        linear-gradient(-45deg, transparent 75%, #f8f9fa 75%);
            background-size: 20px 20px;
            background-position: 0 0, 0 10px, 10px -10px, -10px 0px;
        }
        .game-instruction {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
    </style>
</head>
<body class="bg-gray-100">
    <header class="game-instruction text-white text-center p-6">
        <h1 class="text-3xl font-bold mb-2">AI解决方案游戏</h1>
        <p class="text-lg">拖拽卡牌到画布中，组合构建AI解决方案！双击画布中的卡牌可删除。</p>
    </header>
    <main class="flex m-4 gap-4">
        <div id="canvas" class="w-3/4 bg-white border-2 border-gray-300 rounded-lg p-4 shadow-lg">
            <h2 class="text-xl mb-4 text-gray-700">游戏画布</h2>
        </div>
        <div id="card-library" class="w-1/4 bg-gray-200 border-2 border-gray-300 rounded-lg p-4 shadow-lg overflow-y-auto">
            <h2 class="text-xl mb-4 text-gray-700">卡牌库</h2>
            
            <h3 class="text-sm font-bold text-gray-600 mb-2">AWS服务</h3>
            <div class="card bg-gradient-to-r from-blue-400 to-blue-600 text-white p-3 rounded-lg shadow mb-3 font-semibold">AWS S3</div>
            <div class="card bg-gradient-to-r from-green-400 to-green-600 text-white p-3 rounded-lg shadow mb-3 font-semibold">AWS EC2</div>
            <div class="card bg-gradient-to-r from-purple-400 to-purple-600 text-white p-3 rounded-lg shadow mb-3 font-semibold">AWS Lambda</div>
            <div class="card bg-gradient-to-r from-indigo-400 to-indigo-600 text-white p-3 rounded-lg shadow mb-3 font-semibold">AWS SageMaker</div>
            <div class="card bg-gradient-to-r from-teal-400 to-teal-600 text-white p-3 rounded-lg shadow mb-3 font-semibold">AWS RDS</div>
            
            <h3 class="text-sm font-bold text-gray-600 mb-2 mt-4">AI模型</h3>
            <div class="card bg-gradient-to-r from-red-400 to-red-600 text-white p-3 rounded-lg shadow mb-3 font-semibold">LLaMA</div>
            <div class="card bg-gradient-to-r from-pink-400 to-pink-600 text-white p-3 rounded-lg shadow mb-3 font-semibold">GPT-4</div>
            <div class="card bg-gradient-to-r from-orange-400 to-orange-600 text-white p-3 rounded-lg shadow mb-3 font-semibold">BERT</div>
            <div class="card bg-gradient-to-r from-cyan-400 to-cyan-600 text-white p-3 rounded-lg shadow mb-3 font-semibold">ResNet</div>
            
            <h3 class="text-sm font-bold text-gray-600 mb-2 mt-4">数据源</h3>
            <div class="card bg-gradient-to-r from-yellow-400 to-yellow-600 text-white p-3 rounded-lg shadow mb-3 font-semibold">客户数据</div>
            <div class="card bg-gradient-to-r from-lime-400 to-lime-600 text-white p-3 rounded-lg shadow mb-3 font-semibold">历史数据</div>
            <div class="card bg-gradient-to-r from-emerald-400 to-emerald-600 text-white p-3 rounded-lg shadow mb-3 font-semibold">实时数据</div>
            
            <h3 class="text-sm font-bold text-gray-600 mb-2 mt-4">工具组件</h3>
            <div class="card bg-gradient-to-r from-gray-400 to-gray-600 text-white p-3 rounded-lg shadow mb-3 font-semibold">API网关</div>
            <div class="card bg-gradient-to-r from-slate-400 to-slate-600 text-white p-3 rounded-lg shadow mb-3 font-semibold">负载均衡器</div>
        </div>
    </main>
    <div class="text-center m-4">
        <button id="check-solution" class="bg-green-500 hover:bg-green-700 text-white font-bold py-3 px-6 rounded-lg shadow-lg transition-all duration-300 transform hover:scale-105">
            检查解决方案
        </button>
        <button id="reset" class="bg-red-500 hover:bg-red-700 text-white font-bold py-3 px-6 rounded-lg shadow-lg ml-4 transition-all duration-300 transform hover:scale-105">
            重置画布
        </button>
        <div id="result" class="mt-6 text-xl font-semibold"></div>
    </div>
    <footer class="text-center p-4 text-gray-600">
        <p>&copy; 2024 AI解决方案游戏 - 适合2-5人参与的策略游戏</p>
    </footer>
    <script>
        $(function() {
            // 使卡牌可拖拽
            $(".card").draggable({
                helper: "clone",
                cursor: "move"
            });
            
            // 使画布可接收拖拽的卡牌
            $("#canvas").droppable({
                drop: function(event, ui) {
                    var droppedCard = $(ui.helper).clone();
                    droppedCard.removeClass("ui-draggable-dragging");
                    droppedCard.addClass("canvas-card");
                    $(this).append(droppedCard);
                    
                    // 使画布中的卡牌可以双击删除
                    droppedCard.dblclick(function() {
                        $(this).remove();
                    });
                }
            });
            
            // 重置按钮
            $("#reset").on("click", function() {
                $("#canvas").empty().append('<h2 class="text-xl mb-4 text-gray-700">游戏画布</h2>');
                $("#result").empty();
            });
            
            // 检查解决方案按钮 - 改进的游戏规则
            $("#check-solution").on("click", function() {
                let cards = $("#canvas .canvas-card").map(function() {
                    return $(this).text();
                }).get();

                // 定义多种有效的AI解决方案组合
                const validSolutions = [
                    // 基础数据存储解决方案
                    {
                        required: ["AWS S3", "客户数据", "API网关"],
                        name: "数据存储解决方案",
                        description: "构建了基础的数据存储和访问系统"
                    },
                    // 机器学习训练解决方案
                    {
                        required: ["AWS SageMaker", "历史数据", "AWS S3"],
                        name: "机器学习训练解决方案", 
                        description: "构建了完整的ML模型训练流水线"
                    },
                    // 实时AI推理解决方案
                    {
                        required: ["AWS Lambda", "GPT-4", "API网关"],
                        name: "实时AI推理解决方案",
                        description: "构建了高效的实时AI服务"
                    },
                    // 大规模AI应用解决方案
                    {
                        required: ["AWS EC2", "LLaMA", "负载均衡器", "实时数据"],
                        name: "大规模AI应用解决方案",
                        description: "构建了可扩展的企业级AI应用"
                    },
                    // 综合AI平台解决方案
                    {
                        required: ["AWS SageMaker", "AWS RDS", "GPT-4", "客户数据", "API网关"],
                        name: "综合AI平台解决方案",
                        description: "构建了功能完整的AI服务平台"
                    }
                ];

                // 检查是否匹配任何有效解决方案
                let matchedSolution = null;
                for (let solution of validSolutions) {
                    if (solution.required.every(card => cards.includes(card))) {
                        matchedSolution = solution;
                        break;
                    }
                }

                if (matchedSolution) {
                    $("#result").html(`
                        <div class="bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded">
                            <strong>🎉 恭喜！</strong><br>
                            您成功构建了：<strong>${matchedSolution.name}</strong><br>
                            <small>${matchedSolution.description}</small>
                        </div>
                    `);
                } else if (cards.length === 0) {
                    $("#result").html(`
                        <div class="bg-yellow-100 border border-yellow-400 text-yellow-700 px-4 py-3 rounded">
                            请先拖拽一些卡牌到画布中！
                        </div>
                    `);
                } else {
                    $("#result").html(`
                        <div class="bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded">
                            <strong>解决方案不完整</strong><br>
                            当前卡牌：${cards.join(", ")}<br>
                            <small>尝试组合不同类型的卡牌构建完整的AI解决方案</small>
                        </div>
                    `);
                }
            });
        });
    </script>
</body>
</html>