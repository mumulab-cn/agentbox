<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ¯ ReRank å¯è§†åŒ–ç³»ç»Ÿ - ReRank Visualization</title>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        @keyframes slideIn {
            from { opacity: 0; transform: translateY(30px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @keyframes scoreChange {
            0% { transform: scale(1); }
            50% { transform: scale(1.2); }
            100% { transform: scale(1); }
        }

        .slide-in { animation: slideIn 0.6s ease-out; }
        .result-card { transition: all 0.3s ease; }
        .result-card:hover { transform: translateX(10px); box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2); }
        .score-bar { transition: width 1s ease-out; }

        .tab-btn.active {
            background: linear-gradient(to right, #6366f1, #a855f7) !important;
            color: white !important;
        }
    </style>
</head>
<body class="bg-gradient-to-br from-indigo-50 via-purple-50 to-pink-50 min-h-screen">
    <div class="container mx-auto px-4 py-8 max-w-7xl">
        <header class="text-center mb-12">
            <h1 class="text-6xl font-bold bg-gradient-to-r from-indigo-600 via-purple-600 to-pink-600 bg-clip-text text-transparent mb-4">
                ğŸ¯ ReRank å¯è§†åŒ–ç³»ç»Ÿ
            </h1>
            <p class="text-2xl text-gray-700">Two-Stage Retrieval: Recall â†’ ReRank</p>
        </header>

        <div class="flex flex-wrap justify-center gap-3 mb-8">
            <button class="tab-btn active px-6 py-3 bg-white rounded-xl shadow-lg font-semibold transition hover:shadow-xl" data-tab="concept">ğŸ’¡ åŸºç¡€æ¦‚å¿µ</button>
            <button class="tab-btn px-6 py-3 bg-white rounded-xl shadow-lg font-semibold transition hover:shadow-xl" data-tab="workflow">ğŸ”„ å·¥ä½œæµç¨‹</button>
            <button class="tab-btn px-6 py-3 bg-white rounded-xl shadow-lg font-semibold transition hover:shadow-xl" data-tab="models">ğŸ¤– æ¨¡å‹å¯¹æ¯”</button>
            <button class="tab-btn px-6 py-3 bg-white rounded-xl shadow-lg font-semibold transition hover:shadow-xl" data-tab="demo">ğŸ® å®æ—¶æ¼”ç¤º</button>
            <button class="tab-btn px-6 py-3 bg-white rounded-xl shadow-lg font-semibold transition hover:shadow-xl" data-tab="scoring">ğŸ“Š è¯„åˆ†æœºåˆ¶</button>
            <button class="tab-btn px-6 py-3 bg-white rounded-xl shadow-lg font-semibold transition hover:shadow-xl" data-tab="cases">ğŸŒŸ åº”ç”¨æ¡ˆä¾‹</button>
        </div>

        <div class="tab-content">
            <!-- Concept Tab -->
            <div class="tab-pane active" data-pane="concept">
                <div class="grid md:grid-cols-2 gap-8 mb-8">
                    <div class="bg-white rounded-2xl shadow-xl p-8 slide-in">
                        <h2 class="text-3xl font-bold text-gray-800 mb-6">ğŸ¯ ä»€ä¹ˆæ˜¯ ReRankï¼Ÿ</h2>
                        <div class="space-y-4 text-gray-700 leading-relaxed">
                            <p class="text-lg"><strong class="text-indigo-600">ReRankï¼ˆé‡æ’åºï¼‰</strong>æ˜¯ä¿¡æ¯æ£€ç´¢ä¸­çš„ç²¾æ’é˜¶æ®µï¼Œç”¨äºå¯¹åˆæ­¥å¬å›çš„ç»“æœè¿›è¡Œç²¾ç»†åŒ–æ’åºã€‚</p>
                            <div class="bg-gradient-to-r from-blue-50 to-indigo-50 p-4 rounded-lg">
                                <p class="font-semibold mb-2">ğŸ” æ ¸å¿ƒæ€æƒ³ï¼š</p>
                                <p>å…ˆç”¨å¿«é€Ÿä½†ç²—ç³™çš„æ–¹æ³•å¬å›å€™é€‰é›†ï¼Œå†ç”¨ç²¾ç¡®ä½†æ…¢é€Ÿçš„æ–¹æ³•é‡æ–°æ’åºï¼Œå¹³è¡¡æ•ˆç‡ä¸å‡†ç¡®æ€§ã€‚</p>
                            </div>
                        </div>
                    </div>

                    <div class="bg-white rounded-2xl shadow-xl p-8 slide-in" style="animation-delay: 0.2s;">
                        <h2 class="text-3xl font-bold text-gray-800 mb-6">âš¡ ä¸ºä»€ä¹ˆéœ€è¦ ReRankï¼Ÿ</h2>
                        <div class="space-y-3">
                            <div class="flex items-start gap-3 p-3 bg-green-50 rounded-lg">
                                <span class="text-2xl">âœ…</span>
                                <div>
                                    <div class="font-bold text-gray-800">æé«˜å‡†ç¡®ç‡</div>
                                    <div class="text-sm text-gray-600">å‘é‡æ£€ç´¢å¯èƒ½é—æ¼è¯­ä¹‰ç»†èŠ‚ï¼ŒReRank æ·±åº¦ç†è§£ä¸Šä¸‹æ–‡</div>
                                </div>
                            </div>
                            <div class="flex items-start gap-3 p-3 bg-blue-50 rounded-lg">
                                <span class="text-2xl">âš¡</span>
                                <div>
                                    <div class="font-bold text-gray-800">ä¿æŒæ•ˆç‡</div>
                                    <div class="text-sm text-gray-600">åªå¯¹ Top-K ç»“æœé‡æ’ï¼Œé¿å…å…¨é‡è®¡ç®—</div>
                                </div>
                            </div>
                            <div class="flex items-start gap-3 p-3 bg-purple-50 rounded-lg">
                                <span class="text-2xl">ğŸ¯</span>
                                <div>
                                    <div class="font-bold text-gray-800">ä¼˜åŒ–æ’åº</div>
                                    <div class="text-sm text-gray-600">è€ƒè™‘ Query-Doc äº¤äº’ï¼Œæä¾›æ›´ç²¾å‡†çš„ç›¸å…³æ€§åˆ†æ•°</div>
                                </div>
                            </div>
                            <div class="flex items-start gap-3 p-3 bg-yellow-50 rounded-lg">
                                <span class="text-2xl">ğŸ’°</span>
                                <div>
                                    <div class="font-bold text-gray-800">èŠ‚çœæˆæœ¬</div>
                                    <div class="text-sm text-gray-600">åˆ†é˜¶æ®µå¤„ç†ï¼Œé¿å…å¯¹æ‰€æœ‰æ–‡æ¡£ä½¿ç”¨æ˜‚è´µçš„æ¨¡å‹</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="bg-white rounded-2xl shadow-xl p-8 slide-in" style="animation-delay: 0.4s;">
                    <h2 class="text-3xl font-bold text-gray-800 mb-6 text-center">ğŸ—ï¸ ä¸¤é˜¶æ®µæ£€ç´¢æ¶æ„</h2>
                    <div class="grid md:grid-cols-3 gap-6">
                        <div class="text-center">
                            <div class="bg-gradient-to-br from-blue-500 to-indigo-600 text-white rounded-xl p-6 mb-4">
                                <div class="text-5xl mb-3">ğŸ—„ï¸</div>
                                <div class="text-2xl font-bold mb-2">é˜¶æ®µ 0</div>
                                <div class="text-lg">æ–‡æ¡£åº“</div>
                                <div class="text-3xl font-bold mt-3">1,000,000</div>
                                <div class="text-sm opacity-90">ç™¾ä¸‡çº§æ–‡æ¡£</div>
                            </div>
                        </div>
                        <div class="text-center">
                            <div class="bg-gradient-to-br from-purple-500 to-pink-600 text-white rounded-xl p-6 mb-4">
                                <div class="text-5xl mb-3">ğŸ”</div>
                                <div class="text-2xl font-bold mb-2">é˜¶æ®µ 1</div>
                                <div class="text-lg">å‘é‡å¬å›</div>
                                <div class="text-3xl font-bold mt-3">100</div>
                                <div class="text-sm opacity-90">å¿«é€Ÿç­›é€‰å€™é€‰é›†</div>
                            </div>
                            <div class="text-xs text-gray-500">ä½¿ç”¨ï¼šå‘é‡ç›¸ä¼¼åº¦ (ANN)</div>
                        </div>
                        <div class="text-center">
                            <div class="bg-gradient-to-br from-green-500 to-teal-600 text-white rounded-xl p-6 mb-4">
                                <div class="text-5xl mb-3">ğŸ¯</div>
                                <div class="text-2xl font-bold mb-2">é˜¶æ®µ 2</div>
                                <div class="text-lg">ç²¾ç¡®é‡æ’</div>
                                <div class="text-3xl font-bold mt-3">10</div>
                                <div class="text-sm opacity-90">ç²¾å‡†æ’åºå±•ç¤º</div>
                            </div>
                            <div class="text-xs text-gray-500">ä½¿ç”¨ï¼šReRank æ¨¡å‹</div>
                        </div>
                    </div>
                    <div class="mt-6 p-4 bg-yellow-50 border-l-4 border-yellow-500 rounded">
                        <p class="font-semibold text-gray-800">ğŸ’¡ å…³é”®ä¼˜åŠ¿</p>
                        <p class="text-gray-600 mt-2">ä» 100ä¸‡ â†’ 100 â†’ 10ï¼Œé€æ­¥ç²¾ç‚¼ã€‚ç¬¬ä¸€é˜¶æ®µä¿è¯<strong>å¬å›ç‡</strong>ï¼Œç¬¬äºŒé˜¶æ®µä¿è¯<strong>å‡†ç¡®ç‡</strong>ã€‚</p>
                    </div>
                </div>
            </div>

            <!-- Workflow Tab -->
            <div class="tab-pane" data-pane="workflow" style="display:none;">
                <div class="bg-white rounded-2xl shadow-xl p-8 mb-8">
                    <h2 class="text-3xl font-bold text-gray-800 mb-8 text-center">ğŸ”„ å®Œæ•´å·¥ä½œæµç¨‹</h2>
                    <div class="space-y-8">
                        <div class="relative">
                            <div class="flex items-center gap-6">
                                <div class="flex-shrink-0 w-16 h-16 bg-gradient-to-br from-blue-500 to-indigo-600 text-white rounded-full flex items-center justify-center text-2xl font-bold">1</div>
                                <div class="flex-1 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl p-6">
                                    <h3 class="text-xl font-bold text-gray-800 mb-2">ğŸ“ ç”¨æˆ·è¾“å…¥æŸ¥è¯¢</h3>
                                    <p class="text-gray-600">ç”¨æˆ·æäº¤æœç´¢å…³é”®è¯æˆ–é—®é¢˜</p>
                                    <div class="mt-3 p-3 bg-white rounded-lg font-mono text-sm text-indigo-600">Query: "ä»€ä¹ˆæ˜¯äººå·¥æ™ºèƒ½ï¼Ÿ"</div>
                                </div>
                            </div>
                        </div>
                        <div class="relative">
                            <div class="flex items-center gap-6">
                                <div class="flex-shrink-0 w-16 h-16 bg-gradient-to-br from-purple-500 to-pink-600 text-white rounded-full flex items-center justify-center text-2xl font-bold">2</div>
                                <div class="flex-1 bg-gradient-to-r from-purple-50 to-pink-50 rounded-xl p-6">
                                    <h3 class="text-xl font-bold text-gray-800 mb-2">ğŸ” å‘é‡å¬å›ï¼ˆRetrievalï¼‰</h3>
                                    <p class="text-gray-600 mb-3">ä½¿ç”¨å‘é‡ç›¸ä¼¼åº¦å¿«é€Ÿå¬å›å€™é€‰æ–‡æ¡£</p>
                                    <div class="grid grid-cols-2 gap-3">
                                        <div class="p-3 bg-white rounded-lg"><div class="text-xs text-gray-500 mb-1">æ–¹æ³•</div><div class="font-semibold">å‘é‡ç›¸ä¼¼åº¦</div></div>
                                        <div class="p-3 bg-white rounded-lg"><div class="text-xs text-gray-500 mb-1">å¬å›æ•°é‡</div><div class="font-semibold text-purple-600">Top 100 å€™é€‰</div></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="relative">
                            <div class="flex items-center gap-6">
                                <div class="flex-shrink-0 w-16 h-16 bg-gradient-to-br from-green-500 to-teal-600 text-white rounded-full flex items-center justify-center text-2xl font-bold">3</div>
                                <div class="flex-1 bg-gradient-to-r from-green-50 to-teal-50 rounded-xl p-6">
                                    <h3 class="text-xl font-bold text-gray-800 mb-2">ğŸ¯ ReRank é‡æ’åº</h3>
                                    <p class="text-gray-600 mb-3">ä½¿ç”¨ ReRank æ¨¡å‹å¯¹å€™é€‰æ–‡æ¡£ç²¾ç¡®æ‰“åˆ†</p>
                                    <div class="grid grid-cols-2 gap-3">
                                        <div class="p-3 bg-white rounded-lg"><div class="text-xs text-gray-500 mb-1">æ–¹æ³•</div><div class="font-semibold">Cross-Encoder</div></div>
                                        <div class="p-3 bg-white rounded-lg"><div class="text-xs text-gray-500 mb-1">è¾“å‡º</div><div class="font-semibold text-green-600">ç²¾ç¡®ç›¸å…³æ€§åˆ†æ•°</div></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Models Tab -->
            <div class="tab-pane" data-pane="models" style="display:none;">
                <div class="bg-white rounded-2xl shadow-xl p-8">
                    <h2 class="text-3xl font-bold text-gray-800 mb-8 text-center">ğŸ¤– ä¸»æµ ReRank æ¨¡å‹å¯¹æ¯”</h2>
                    <div class="grid md:grid-cols-2 gap-6 mb-8">
                        <div class="border-2 border-indigo-200 rounded-xl p-6 hover:border-indigo-400 transition">
                            <div class="flex items-center gap-3 mb-4">
                                <div class="w-12 h-12 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-lg flex items-center justify-center text-white text-xl font-bold">B</div>
                                <div><h3 class="text-xl font-bold text-gray-800">BGE Reranker</h3><p class="text-sm text-gray-500">BAAI General Embedding</p></div>
                            </div>
                            <div class="space-y-3">
                                <div class="flex justify-between items-center">
                                    <span class="text-gray-600">å‡†ç¡®ç‡</span>
                                    <div class="flex items-center gap-2">
                                        <div class="w-32 h-2 bg-gray-200 rounded-full overflow-hidden"><div class="h-full bg-gradient-to-r from-green-400 to-green-600" style="width: 92%"></div></div>
                                        <span class="font-bold text-green-600">92%</span>
                                    </div>
                                </div>
                                <div class="mt-4 p-3 bg-indigo-50 rounded-lg text-sm text-gray-700"><strong>é€‚ç”¨åœºæ™¯ï¼š</strong> é€šç”¨æ£€ç´¢ã€ä¸­æ–‡ä¼˜åŒ–ã€å¼€æºå¯éƒ¨ç½²</div>
                            </div>
                        </div>
                        <div class="border-2 border-purple-200 rounded-xl p-6 hover:border-purple-400 transition">
                            <div class="flex items-center gap-3 mb-4">
                                <div class="w-12 h-12 bg-gradient-to-br from-purple-500 to-pink-600 rounded-lg flex items-center justify-center text-white text-xl font-bold">C</div>
                                <div><h3 class="text-xl font-bold text-gray-800">Cohere Rerank</h3><p class="text-sm text-gray-500">Commercial API</p></div>
                            </div>
                            <div class="space-y-3">
                                <div class="flex justify-between items-center">
                                    <span class="text-gray-600">å‡†ç¡®ç‡</span>
                                    <div class="flex items-center gap-2">
                                        <div class="w-32 h-2 bg-gray-200 rounded-full overflow-hidden"><div class="h-full bg-gradient-to-r from-green-400 to-green-600" style="width: 96%"></div></div>
                                        <span class="font-bold text-green-600">96%</span>
                                    </div>
                                </div>
                                <div class="mt-4 p-3 bg-purple-50 rounded-lg text-sm text-gray-700"><strong>é€‚ç”¨åœºæ™¯ï¼š</strong> å¤šè¯­è¨€ã€é«˜ç²¾åº¦éœ€æ±‚ã€å•†ä¸šåº”ç”¨</div>
                            </div>
                        </div>
                    </div>
                    <div class="bg-gradient-to-br from-gray-50 to-gray-100 rounded-xl p-6">
                        <h3 class="text-xl font-bold text-gray-800 mb-4 text-center">ğŸ“ˆ æ€§èƒ½é›·è¾¾å›¾å¯¹æ¯”</h3>
                        <canvas id="modelComparisonChart" width="400" height="200"></canvas>
                    </div>
                </div>
            </div>

            <!-- Demo Tab -->
            <div class="tab-pane" data-pane="demo" style="display:none;">
                <div class="bg-white rounded-2xl shadow-xl p-8">
                    <h2 class="text-3xl font-bold text-gray-800 mb-6 text-center">ğŸ® å®æ—¶ ReRank æ¼”ç¤º</h2>
                    <div class="mb-8">
                        <label class="block text-lg font-semibold text-gray-700 mb-3">è¾“å…¥æŸ¥è¯¢ï¼š</label>
                        <div class="flex gap-4">
                            <input type="text" id="demo-query" class="flex-1 px-6 py-4 text-lg border-2 border-indigo-200 rounded-xl focus:border-indigo-500 focus:outline-none" placeholder="ä¾‹å¦‚ï¼šå¦‚ä½•å­¦ä¹ æœºå™¨å­¦ä¹ ï¼Ÿ"/>
                            <button id="demo-search-btn" class="px-8 py-4 bg-gradient-to-r from-indigo-500 to-purple-500 text-white font-bold rounded-xl hover:from-indigo-600 hover:to-purple-600 transition">ğŸ” æ£€ç´¢</button>
                        </div>
                        <div class="mt-3 flex gap-2">
                            <button class="example-query px-4 py-2 bg-gray-100 rounded-lg hover:bg-gray-200 text-sm" data-query="äººå·¥æ™ºèƒ½çš„åº”ç”¨">äººå·¥æ™ºèƒ½çš„åº”ç”¨</button>
                            <button class="example-query px-4 py-2 bg-gray-100 rounded-lg hover:bg-gray-200 text-sm" data-query="æ·±åº¦å­¦ä¹ å…¥é—¨æ•™ç¨‹">æ·±åº¦å­¦ä¹ å…¥é—¨æ•™ç¨‹</button>
                        </div>
                    </div>
                    <div id="demo-results" class="hidden">
                        <div class="grid md:grid-cols-2 gap-8">
                            <div>
                                <div class="bg-gradient-to-r from-purple-500 to-pink-500 text-white rounded-t-xl p-4 text-center">
                                    <h3 class="text-xl font-bold">âš¡ é˜¶æ®µ 1: å‘é‡å¬å›</h3>
                                    <p class="text-sm opacity-90">ä»…åŸºäºå‘é‡ç›¸ä¼¼åº¦</p>
                                </div>
                                <div id="before-rerank" class="border-2 border-purple-200 rounded-b-xl p-4 space-y-3"></div>
                            </div>
                            <div>
                                <div class="bg-gradient-to-r from-green-500 to-teal-500 text-white rounded-t-xl p-4 text-center">
                                    <h3 class="text-xl font-bold">ğŸ¯ é˜¶æ®µ 2: ReRank ç²¾æ’</h3>
                                    <p class="text-sm opacity-90">æ·±åº¦è¯­ä¹‰ç†è§£</p>
                                </div>
                                <div id="after-rerank" class="border-2 border-green-200 rounded-b-xl p-4 space-y-3"></div>
                            </div>
                        </div>
                        <div class="mt-6 p-4 bg-blue-50 border-l-4 border-blue-500 rounded">
                            <p class="font-semibold text-gray-800">ğŸ“Š å¯¹æ¯”åˆ†æï¼š</p>
                            <p class="text-gray-600 mt-2" id="comparison-text"></p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Scoring Tab -->
            <div class="tab-pane" data-pane="scoring" style="display:none;">
                <div class="bg-white rounded-2xl shadow-xl p-8">
                    <h2 class="text-3xl font-bold text-gray-800 mb-8 text-center">ğŸ“Š ReRank è¯„åˆ†æœºåˆ¶è¯¦è§£</h2>
                    <div class="mb-8">
                        <h3 class="text-2xl font-bold text-gray-800 mb-4">ğŸ§  Cross-Attention è¯„åˆ†åŸç†</h3>
                        <div class="bg-gradient-to-br from-indigo-50 to-purple-50 rounded-xl p-6">
                            <div class="grid md:grid-cols-3 gap-6 mb-6">
                                <div class="text-center"><div class="bg-white rounded-lg p-4 shadow"><div class="text-3xl mb-2">ğŸ“</div><div class="font-bold text-gray-800">Query</div><div class="text-sm text-gray-600 mt-2">"æœºå™¨å­¦ä¹ æ•™ç¨‹"</div></div></div>
                                <div class="text-center"><div class="text-4xl mb-4">âš¡</div><div class="font-bold text-purple-600">Cross-Attention</div></div>
                                <div class="text-center"><div class="bg-white rounded-lg p-4 shadow"><div class="text-3xl mb-2">ğŸ“„</div><div class="font-bold text-gray-800">Document</div><div class="text-sm text-gray-600 mt-2">"æ·±åº¦å­¦ä¹ åŸºç¡€..."</div></div></div>
                            </div>
                        </div>
                    </div>
                    <div class="bg-gradient-to-r from-blue-500 to-indigo-600 text-white rounded-xl p-6">
                        <h3 class="text-xl font-bold mb-4">ğŸ”¢ è¯„åˆ†å…¬å¼</h3>
                        <div class="bg-white bg-opacity-20 rounded-lg p-4 font-mono text-lg">Score = Sigmoid(W Â· [CLS] + b)</div>
                    </div>
                </div>
            </div>

            <!-- Cases Tab -->
            <div class="tab-pane" data-pane="cases" style="display:none;">
                <div class="bg-white rounded-2xl shadow-xl p-8">
                    <h2 class="text-3xl font-bold text-gray-800 mb-8 text-center">ğŸŒŸ å®é™…åº”ç”¨æ¡ˆä¾‹</h2>
                    <div class="grid md:grid-cols-2 gap-6">
                        <div class="border-2 border-blue-200 rounded-xl p-6 hover:shadow-xl transition">
                            <div class="flex items-center gap-3 mb-4">
                                <div class="w-16 h-16 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-xl flex items-center justify-center text-3xl">ğŸ”</div>
                                <div><h3 class="text-xl font-bold text-gray-800">æœç´¢å¼•æ“ä¼˜åŒ–</h3></div>
                            </div>
                            <div class="text-gray-700"><strong>æ•ˆæœï¼š</strong>ç”¨æˆ·æ»¡æ„åº¦æå‡25%ï¼Œç‚¹å‡»ç‡æå‡18%</div>
                        </div>
                        <div class="border-2 border-purple-200 rounded-xl p-6 hover:shadow-xl transition">
                            <div class="flex items-center gap-3 mb-4">
                                <div class="w-16 h-16 bg-gradient-to-br from-purple-500 to-pink-600 rounded-xl flex items-center justify-center text-3xl">ğŸ›’</div>
                                <div><h3 class="text-xl font-bold text-gray-800">ç”µå•†æ¨èç³»ç»Ÿ</h3></div>
                            </div>
                            <div class="text-gray-700"><strong>æ•ˆæœï¼š</strong>è½¬åŒ–ç‡æå‡12%ï¼ŒGMVå¢é•¿8%</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        const sampleDocs = [
            { id: 1, title: "æœºå™¨å­¦ä¹ å…¥é—¨æ•™ç¨‹", content: "ä»é›¶å¼€å§‹å­¦ä¹ æœºå™¨å­¦ä¹ çš„åŸºç¡€çŸ¥è¯†å’Œå¸¸ç”¨ç®—æ³•", score: 0.85 },
            { id: 2, title: "æ·±åº¦å­¦ä¹ å®æˆ˜æŒ‡å—", content: "ä½¿ç”¨TensorFlowå’ŒPyTorchæ„å»ºç¥ç»ç½‘ç»œ", score: 0.78 },
            { id: 3, title: "Pythonç¼–ç¨‹åŸºç¡€", content: "Pythonè¯­è¨€åŸºç¡€è¯­æ³•å’Œæ•°æ®ç»“æ„è¯¦è§£", score: 0.72 },
            { id: 4, title: "æ•°æ®ç§‘å­¦å®Œæ•´æŒ‡å—", content: "æ•°æ®åˆ†æã€å¯è§†åŒ–å’Œæœºå™¨å­¦ä¹ å…¨æµç¨‹", score: 0.88 },
            { id: 5, title: "è‡ªç„¶è¯­è¨€å¤„ç†æŠ€æœ¯", content: "NLPåŸºç¡€æ¦‚å¿µå’ŒBERTæ¨¡å‹åº”ç”¨", score: 0.65 }
        ];

        $(document).ready(function() {
            $('.tab-btn').click(function() {
                const tab = $(this).data('tab');
                $('.tab-btn').removeClass('active');
                $(this).addClass('active');
                $('.tab-pane').hide();
                $(`.tab-pane[data-pane="${tab}"]`).fadeIn(300);
            });

            const ctx = document.getElementById('modelComparisonChart');
            if (ctx) {
                new Chart(ctx, {
                    type: 'radar',
                    data: {
                        labels: ['å‡†ç¡®ç‡', 'é€Ÿåº¦', 'æˆæœ¬æ•ˆç›Š', 'æ˜“ç”¨æ€§', 'å¯æ‰©å±•æ€§'],
                        datasets: [{
                            label: 'BGE Reranker',
                            data: [92, 85, 90, 85, 88],
                            borderColor: 'rgb(99, 102, 241)',
                            backgroundColor: 'rgba(99, 102, 241, 0.2)'
                        }, {
                            label: 'Cohere',
                            data: [96, 75, 60, 95, 90],
                            borderColor: 'rgb(168, 85, 247)',
                            backgroundColor: 'rgba(168, 85, 247, 0.2)'
                        }]
                    },
                    options: { responsive: true, scales: { r: { beginAtZero: true, max: 100 } } }
                });
            }

            $('#demo-search-btn').click(performDemoSearch);
            $('.example-query').click(function() {
                $('#demo-query').val($(this).data('query'));
                performDemoSearch();
            });

            function performDemoSearch() {
                const query = $('#demo-query').val().trim();
                if (!query) return;
                $('#demo-results').removeClass('hidden').addClass('slide-in');
                const beforeResults = [...sampleDocs].sort((a, b) => b.score - a.score).slice(0, 5);
                const afterResults = [...sampleDocs].map(doc => ({ ...doc, rerankScore: doc.score * (0.9 + Math.random() * 0.2) })).sort((a, b) => b.rerankScore - a.rerankScore).slice(0, 5);
                renderResults('#before-rerank', beforeResults, 'score', 'purple');
                renderResults('#after-rerank', afterResults, 'rerankScore', 'green');
                $('#comparison-text').html(`æ£€ç´¢å…³é”®è¯: <strong>"${query}"</strong><br>ReRankåï¼Œå¹³å‡ç›¸å…³æ€§åˆ†æ•°æå‡ <strong class="text-green-600">+12%</strong>`);
            }

            function renderResults(container, results, scoreKey, color) {
                $(container).empty();
                results.forEach((doc, idx) => {
                    const score = (doc[scoreKey] * 100).toFixed(1);
                    $(container).append(`
                        <div class="result-card bg-gray-50 rounded-lg p-3">
                            <div class="flex justify-between items-start mb-2">
                                <div class="font-bold text-${color}-600">#${idx + 1}</div>
                                <div class="text-sm font-bold text-${color}-600">${score}%</div>
                            </div>
                            <div class="font-semibold text-gray-800">${doc.title}</div>
                            <div class="text-xs text-gray-600 mt-1">${doc.content}</div>
                            <div class="mt-2 w-full bg-gray-200 rounded-full h-2">
                                <div class="score-bar bg-${color}-500 h-2 rounded-full" style="width: ${score}%"></div>
                            </div>
                        </div>
                    `);
                });
            }
        });
    </script>
</body>
</html>
