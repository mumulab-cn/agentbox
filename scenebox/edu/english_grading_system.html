<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å°å­¦è‹±è¯­ä½œæ–‡æ‰¹æ”¹åŠ©æ‰‹</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Microsoft YaHei', Arial, sans-serif;
            background: linear-gradient(135deg, #74b9ff 0%, #0984e3 100%);
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            overflow: hidden;
        }
        
        .header {
            background: linear-gradient(135deg, #6c5ce7 0%, #a29bfe 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }
        
        .header h1 {
            font-size: 32px;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
        }
        
        .header p {
            font-size: 16px;
            opacity: 0.9;
        }
        
        .main-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            min-height: 600px;
        }
        
        .input-section {
            padding: 30px;
            border-right: 2px solid #f1f2f6;
        }
        
        .output-section {
            padding: 30px;
            background: #f8f9fa;
        }
        
        .section-title {
            font-size: 20px;
            color: #2d3436;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .textarea-container {
            position: relative;
            margin-bottom: 20px;
        }
        
        .essay-input {
            width: 100%;
            height: 400px;
            padding: 20px;
            border: 2px solid #ddd;
            border-radius: 15px;
            font-size: 16px;
            line-height: 1.6;
            resize: none;
            transition: border-color 0.3s ease;
            font-family: 'Courier New', monospace;
        }
        
        .essay-input:focus {
            outline: none;
            border-color: #74b9ff;
            box-shadow: 0 0 10px rgba(116, 185, 255, 0.3);
        }
        
        .word-count {
            position: absolute;
            bottom: 10px;
            right: 15px;
            background: #74b9ff;
            color: white;
            padding: 5px 10px;
            border-radius: 15px;
            font-size: 12px;
        }
        
        .submit-btn {
            width: 100%;
            padding: 15px;
            background: linear-gradient(135deg, #00b894 0%, #00cec9 100%);
            color: white;
            border: none;
            border-radius: 25px;
            font-size: 18px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .submit-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 184, 148, 0.4);
        }
        
        .submit-btn:disabled {
            background: #ddd;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }
        
        .result-container {
            display: none;
        }
        
        .score-display {
            background: linear-gradient(135deg, #fd79a8 0%, #fdcb6e 100%);
            color: white;
            padding: 25px;
            border-radius: 15px;
            text-align: center;
            margin-bottom: 25px;
        }
        
        .score-number {
            font-size: 48px;
            font-weight: bold;
            margin-bottom: 10px;
        }
        
        .score-label {
            font-size: 16px;
            opacity: 0.9;
        }
        
        .feedback-section {
            background: white;
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 20px;
            box-shadow: 0 3px 10px rgba(0,0,0,0.1);
        }
        
        .feedback-title {
            font-size: 18px;
            color: #2d3436;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .feedback-list {
            list-style: none;
        }
        
        .feedback-list li {
            padding: 10px 0;
            border-bottom: 1px solid #f1f2f6;
            display: flex;
            align-items: flex-start;
            gap: 10px;
        }
        
        .feedback-list li:last-child {
            border-bottom: none;
        }
        
        .feedback-icon {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            color: white;
            flex-shrink: 0;
            margin-top: 2px;
        }
        
        .positive {
            background: #00b894;
        }
        
        .improvement {
            background: #fdcb6e;
        }
        
        .error {
            background: #e17055;
        }
        
        .sample-texts {
            margin-top: 20px;
        }
        
        .sample-btn {
            display: inline-block;
            margin: 5px;
            padding: 8px 15px;
            background: #74b9ff;
            color: white;
            border: none;
            border-radius: 15px;
            cursor: pointer;
            font-size: 14px;
            transition: all 0.3s ease;
        }
        
        .sample-btn:hover {
            background: #0984e3;
            transform: translateY(-1px);
        }
        
        .loading {
            display: none;
            text-align: center;
            padding: 40px;
        }
        
        .loading-spinner {
            width: 40px;
            height: 40px;
            border: 4px solid #f3f3f3;
            border-top: 4px solid #74b9ff;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 0 auto 20px;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        .tips {
            background: #e8f4fd;
            border-left: 4px solid #74b9ff;
            padding: 15px;
            border-radius: 0 10px 10px 0;
            margin-top: 20px;
        }
        
        .tips h4 {
            color: #0984e3;
            margin-bottom: 10px;
            font-size: 16px;
        }
        
        .tips ul {
            margin-left: 20px;
            color: #2d3436;
        }
        
        .tips li {
            margin-bottom: 5px;
            font-size: 14px;
        }
        
        @media (max-width: 768px) {
            .main-content {
                grid-template-columns: 1fr;
            }
            
            .input-section {
                border-right: none;
                border-bottom: 2px solid #f1f2f6;
            }
            
            .header h1 {
                font-size: 24px;
            }
            
            .essay-input {
                height: 300px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ“ å°å­¦è‹±è¯­ä½œæ–‡æ‰¹æ”¹åŠ©æ‰‹</h1>
            <p>ä¸“ä¸ºä¸‰å¹´çº§å°æœ‹å‹è®¾è®¡çš„æ™ºèƒ½ä½œæ–‡è¯„åˆ†ç³»ç»Ÿ</p>
        </div>
        
        <div class="main-content">
            <!-- å·¦ä¾§è¾“å…¥åŒºåŸŸ -->
            <div class="input-section">
                <h2 class="section-title">
                    âœï¸ è¯·è¾“å…¥ä½ çš„è‹±è¯­ä½œæ–‡
                </h2>
                
                <div class="textarea-container">
                    <textarea 
                        id="essayInput" 
                        class="essay-input" 
                        placeholder="è¯·åœ¨è¿™é‡Œå†™ä¸‹ä½ çš„è‹±è¯­ä½œæ–‡...\n\nä¾‹å¦‚ï¼š\nMy Family\nI have a happy family. There are three people in my family. My father is a teacher. My mother is a doctor. I am a student. I love my family very much."
                    ></textarea>
                    <div class="word-count" id="wordCount">0 words</div>
                </div>
                
                <button class="submit-btn" id="submitBtn" onclick="gradeEssay()">
                    ğŸš€ å¼€å§‹æ‰¹æ”¹ä½œæ–‡
                </button>
                
                <div class="sample-texts">
                    <h4 style="margin-bottom: 10px; color: #2d3436;">ğŸ“š ç¤ºä¾‹ä½œæ–‡ï¼ˆç‚¹å‡»ä½¿ç”¨ï¼‰ï¼š</h4>
                    <button class="sample-btn" onclick="loadSample(1)">æˆ‘çš„å®¶åº­</button>
                    <button class="sample-btn" onclick="loadSample(2)">æˆ‘çš„å­¦æ ¡</button>
                    <button class="sample-btn" onclick="loadSample(3)">æˆ‘çš„æœ‹å‹</button>
                    <button class="sample-btn" onclick="loadSample(4)">æˆ‘çš„å® ç‰©</button>
                </div>
                
                <div class="tips">
                    <h4>ğŸ’¡ å†™ä½œå°è´´å£«ï¼š</h4>
                    <ul>
                        <li>ä½¿ç”¨ç®€å•çš„å¥å­ç»“æ„</li>
                        <li>æ³¨æ„å¤§å°å†™å’Œæ ‡ç‚¹ç¬¦å·</li>
                        <li>å°½é‡ä½¿ç”¨å­¦è¿‡çš„å•è¯</li>
                        <li>æ¯å¥è¯è¡¨è¾¾ä¸€ä¸ªå®Œæ•´çš„æ„æ€</li>
                    </ul>
                </div>
            </div>
            
            <!-- å³ä¾§è¾“å‡ºåŒºåŸŸ -->
            <div class="output-section">
                <h2 class="section-title">
                    ğŸ“Š æ‰¹æ”¹ç»“æœ
                </h2>
                
                <div class="loading" id="loading">
                    <div class="loading-spinner"></div>
                    <p>AIè€å¸ˆæ­£åœ¨è®¤çœŸæ‰¹æ”¹ä½ çš„ä½œæ–‡...</p>
                </div>
                
                <div class="result-container" id="resultContainer">
                    <div class="score-display">
                        <div class="score-number" id="scoreNumber">85</div>
                        <div class="score-label">åˆ† / 100åˆ†</div>
                    </div>
                    
                    <div class="feedback-section">
                        <h3 class="feedback-title">âœ¨ åšå¾—å¾ˆå¥½çš„åœ°æ–¹</h3>
                        <ul class="feedback-list" id="positiveList">
                            <li>
                                <span class="feedback-icon positive">âœ“</span>
                                <span>å¥å­ç»“æ„æ¸…æ™°ï¼Œè¡¨è¾¾æµç•…</span>
                            </li>
                        </ul>
                    </div>
                    
                    <div class="feedback-section">
                        <h3 class="feedback-title">ğŸ”§ éœ€è¦æ”¹è¿›çš„åœ°æ–¹</h3>
                        <ul class="feedback-list" id="improvementList">
                            <li>
                                <span class="feedback-icon improvement">!</span>
                                <span>æ³¨æ„å•è¯æ‹¼å†™çš„å‡†ç¡®æ€§</span>
                            </li>
                        </ul>
                    </div>
                    
                    <div class="feedback-section">
                        <h3 class="feedback-title">âŒ å‘ç°çš„é”™è¯¯</h3>
                        <ul class="feedback-list" id="errorList">
                            <li>
                                <span class="feedback-icon error">Ã—</span>
                                <span>ç¬¬2è¡Œï¼š"familys" åº”è¯¥æ˜¯ "families"</span>
                            </li>
                        </ul>
                    </div>
                </div>
                
                <div id="placeholder" style="text-align: center; padding: 60px 20px; color: #74b9ff;">
                    <div style="font-size: 48px; margin-bottom: 20px;">ğŸ¤–</div>
                    <p style="font-size: 18px; margin-bottom: 10px;">AIè€å¸ˆåœ¨ç­‰å¾…ä½ çš„ä½œæ–‡</p>
                    <p style="font-size: 14px; color: #636e72;">è¯·åœ¨å·¦ä¾§è¾“å…¥ä½ çš„è‹±è¯­ä½œæ–‡ï¼Œç„¶åç‚¹å‡»æ‰¹æ”¹æŒ‰é’®</p>
                </div>
            </div>
        </div>
    </div>
    
    <script>
        // ç¤ºä¾‹ä½œæ–‡æ•°æ®
        const sampleEssays = {
            1: `My Family
I have a happy family. There are four people in my family. My father is a teacher. He teaches English. My mother is a doctor. She helps sick people. I have a little sister. She is five years old. I am a student. I study in Grade 3. We love each other very much. I love my family.`,
            
            2: `My School
I go to Sunshine Primary School. My school is very beautiful. There are many trees and flowers. I have many friends at school. My teacher is Miss Wang. She is very kind. I like English and Math. We have PE class on Tuesday. I like playing basketball. My school life is happy.`,
            
            3: `My Best Friend
I have a best friend. Her name is Lucy. She is eight years old. She has long black hair and big eyes. She is very kind and funny. We play together every day. She likes reading books. I like drawing pictures. We help each other with homework. I am happy to have such a good friend.`,
            
            4: `My Pet Dog
I have a pet dog. His name is Lucky. He is brown and white. He is very cute and smart. Lucky likes to play with balls. He can sit and shake hands. Every morning, I walk with Lucky in the park. He is my best friend. I love Lucky very much.`
        };
        
        // å­—æ•°ç»Ÿè®¡
        document.getElementById('essayInput').addEventListener('input', function() {
            const text = this.value.trim();
            const words = text ? text.split(/\s+/).length : 0;
            document.getElementById('wordCount').textContent = words + ' words';
        });
        
        // åŠ è½½ç¤ºä¾‹ä½œæ–‡
        function loadSample(id) {
            document.getElementById('essayInput').value = sampleEssays[id];
            const words = sampleEssays[id].split(/\s+/).length;
            document.getElementById('wordCount').textContent = words + ' words';
        }
        
        // æ¨¡æ‹ŸAIæ‰¹æ”¹åŠŸèƒ½
        function gradeEssay() {
            const essay = document.getElementById('essayInput').value.trim();
            
            if (!essay) {
                alert('è¯·å…ˆè¾“å…¥ä½ çš„è‹±è¯­ä½œæ–‡ï¼');
                return;
            }
            
            // æ˜¾ç¤ºåŠ è½½çŠ¶æ€
            document.getElementById('placeholder').style.display = 'none';
            document.getElementById('loading').style.display = 'block';
            document.getElementById('resultContainer').style.display = 'none';
            document.getElementById('submitBtn').disabled = true;
            
            // æ¨¡æ‹ŸAIå¤„ç†æ—¶é—´
            setTimeout(() => {
                const result = analyzeEssay(essay);
                displayResult(result);
                
                document.getElementById('loading').style.display = 'none';
                document.getElementById('resultContainer').style.display = 'block';
                document.getElementById('submitBtn').disabled = false;
            }, 2000);
        }
        
        // ç®€å•çš„ä½œæ–‡åˆ†æç®—æ³•
        function analyzeEssay(essay) {
            const words = essay.split(/\s+/);
            const sentences = essay.split(/[.!?]+/).filter(s => s.trim().length > 0);
            const wordCount = words.length;
            
            let score = 60; // åŸºç¡€åˆ†
            const positive = [];
            const improvements = [];
            const errors = [];
            
            // å­—æ•°è¯„åˆ†
            if (wordCount >= 50) {
                score += 15;
                positive.push('ä½œæ–‡é•¿åº¦é€‚ä¸­ï¼Œå†…å®¹ä¸°å¯Œ');
            } else if (wordCount >= 30) {
                score += 10;
                positive.push('ä½œæ–‡é•¿åº¦åˆé€‚');
            } else {
                improvements.push('å¯ä»¥å°è¯•å†™å¾—æ›´é•¿ä¸€äº›ï¼Œå¢åŠ æ›´å¤šç»†èŠ‚');
            }
            
            // å¥å­ç»“æ„è¯„åˆ†
            if (sentences.length >= 5) {
                score += 10;
                positive.push('å¥å­æ•°é‡å……è¶³ï¼Œè¡¨è¾¾å®Œæ•´');
            }
            
            // æ£€æŸ¥å¸¸è§å•è¯
            const commonWords = ['I', 'my', 'is', 'are', 'have', 'like', 'very', 'good', 'happy'];
            const usedCommonWords = commonWords.filter(word => 
                essay.toLowerCase().includes(word.toLowerCase())
            );
            
            if (usedCommonWords.length >= 5) {
                score += 10;
                positive.push('ä½¿ç”¨äº†ä¸°å¯Œçš„åŸºç¡€è¯æ±‡');
            }
            
            // æ£€æŸ¥å¤§å°å†™
            if (/^[A-Z]/.test(essay)) {
                score += 5;
                positive.push('æ³¨æ„äº†å¥é¦–å¤§å†™');
            } else {
                errors.push('è®°å¾—å¥å­å¼€å¤´è¦å¤§å†™å“¦');
                score -= 5;
            }
            
            // æ£€æŸ¥æ ‡ç‚¹ç¬¦å·
            if (/[.!?]/.test(essay)) {
                positive.push('æ­£ç¡®ä½¿ç”¨äº†æ ‡ç‚¹ç¬¦å·');
            } else {
                improvements.push('è®°å¾—åœ¨å¥å­ç»“å°¾åŠ ä¸Šæ ‡ç‚¹ç¬¦å·');
                score -= 5;
            }
            
            // éšæœºæ·»åŠ ä¸€äº›å»ºè®®
            const randomImprovements = [
                'å¯ä»¥å°è¯•ä½¿ç”¨æ›´å¤šçš„å½¢å®¹è¯æ¥æè¿°',
                'è¯•ç€è¿æ¥å¥å­ï¼Œè®©æ–‡ç« æ›´æµç•…',
                'å¯ä»¥æ·»åŠ æ›´å¤šçš„ç»†èŠ‚æè¿°',
                'å°è¯•ä½¿ç”¨ä¸åŒçš„å¥å¼ç»“æ„'
            ];
            
            if (Math.random() > 0.5) {
                improvements.push(randomImprovements[Math.floor(Math.random() * randomImprovements.length)]);
            }
            
            // ç¡®ä¿åˆ†æ•°åœ¨åˆç†èŒƒå›´å†…
            score = Math.max(50, Math.min(100, score));
            
            return {
                score: score,
                positive: positive,
                improvements: improvements,
                errors: errors
            };
        }
        
        // æ˜¾ç¤ºæ‰¹æ”¹ç»“æœ
        function displayResult(result) {
            document.getElementById('scoreNumber').textContent = result.score;
            
            // æ˜¾ç¤ºç§¯æåé¦ˆ
            const positiveList = document.getElementById('positiveList');
            positiveList.innerHTML = '';
            result.positive.forEach(item => {
                const li = document.createElement('li');
                li.innerHTML = `
                    <span class="feedback-icon positive">âœ“</span>
                    <span>${item}</span>
                `;
                positiveList.appendChild(li);
            });
            
            // æ˜¾ç¤ºæ”¹è¿›å»ºè®®
            const improvementList = document.getElementById('improvementList');
            improvementList.innerHTML = '';
            if (result.improvements.length === 0) {
                const li = document.createElement('li');
                li.innerHTML = `
                    <span class="feedback-icon positive">âœ“</span>
                    <span>å†™å¾—å¾ˆæ£’ï¼Œç»§ç»­ä¿æŒï¼</span>
                `;
                improvementList.appendChild(li);
            } else {
                result.improvements.forEach(item => {
                    const li = document.createElement('li');
                    li.innerHTML = `
                        <span class="feedback-icon improvement">!</span>
                        <span>${item}</span>
                    `;
                    improvementList.appendChild(li);
                });
            }
            
            // æ˜¾ç¤ºé”™è¯¯
            const errorList = document.getElementById('errorList');
            errorList.innerHTML = '';
            if (result.errors.length === 0) {
                const li = document.createElement('li');
                li.innerHTML = `
                    <span class="feedback-icon positive">âœ“</span>
                    <span>æ²¡æœ‰å‘ç°æ˜æ˜¾é”™è¯¯ï¼Œå¤ªæ£’äº†ï¼</span>
                `;
                errorList.appendChild(li);
            } else {
                result.errors.forEach(item => {
                    const li = document.createElement('li');
                    li.innerHTML = `
                        <span class="feedback-icon error">Ã—</span>
                        <span>${item}</span>
                    `;
                    errorList.appendChild(li);
                });
            }
        }
    </script>
</body>
</html>