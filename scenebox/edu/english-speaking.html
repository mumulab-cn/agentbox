<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ™ºèƒ½è‹±è¯­å£è¯­ç»ƒä¹  - AIè¯¾å ‚æ•™å­¦</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Microsoft YaHei', Arial, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1000px;
            margin: 0 auto;
            background: rgba(255,255,255,0.95);
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.1);
        }

        .back-btn {
            position: absolute;
            top: 20px;
            left: 20px;
            background: rgba(255,255,255,0.9);
            border: none;
            padding: 10px 20px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 1rem;
            color: #667eea;
            text-decoration: none;
            transition: all 0.3s ease;
        }

        .back-btn:hover {
            background: white;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .header {
            text-align: center;
            margin-bottom: 30px;
        }

        .header h1 {
            color: #2c3e50;
            font-size: 2.2rem;
            margin-bottom: 10px;
        }

        .header p {
            color: #666;
            font-size: 1.1rem;
        }

        .practice-modes {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .mode-card {
            background: white;
            border-radius: 15px;
            padding: 20px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 3px solid transparent;
        }

        .mode-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }

        .mode-card.active {
            border-color: #2ecc71;
            background: #f8fff9;
        }

        .mode-icon {
            font-size: 2.5rem;
            margin-bottom: 10px;
        }

        .mode-title {
            font-size: 1.1rem;
            font-weight: bold;
            color: #2c3e50;
            margin-bottom: 5px;
        }

        .mode-desc {
            font-size: 0.9rem;
            color: #666;
        }

        .practice-area {
            background: white;
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
        }

        .word-display {
            text-align: center;
            margin-bottom: 30px;
        }

        .current-word {
            font-size: 3rem;
            font-weight: bold;
            color: #2ecc71;
            margin-bottom: 10px;
        }

        .word-phonetic {
            font-size: 1.5rem;
            color: #666;
            margin-bottom: 10px;
        }

        .word-meaning {
            font-size: 1.2rem;
            color: #2c3e50;
            margin-bottom: 20px;
        }

        .word-example {
            font-style: italic;
            color: #666;
            background: #f8f9fa;
            padding: 15px;
            border-radius: 10px;
            border-left: 4px solid #2ecc71;
        }

        .controls {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }

        .control-btn {
            padding: 12px 24px;
            border: none;
            border-radius: 25px;
            font-size: 1rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .play-btn {
            background: #3498db;
            color: white;
        }

        .record-btn {
            background: #e74c3c;
            color: white;
        }

        .record-btn.recording {
            background: #c0392b;
            animation: pulse 1s infinite;
        }

        .next-btn {
            background: #2ecc71;
            color: white;
        }

        .control-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }

        .feedback-area {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 20px;
            display: none;
        }

        .feedback-title {
            font-size: 1.2rem;
            font-weight: bold;
            color: #2c3e50;
            margin-bottom: 15px;
        }

        .pronunciation-score {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 15px;
        }

        .score-label {
            font-weight: bold;
            color: #2c3e50;
        }

        .score-value {
            font-size: 1.5rem;
            font-weight: bold;
            color: #2ecc71;
        }

        .score-bar {
            width: 100%;
            height: 10px;
            background: #e0e0e0;
            border-radius: 5px;
            overflow: hidden;
            margin: 10px 0;
        }

        .score-fill {
            height: 100%;
            background: linear-gradient(90deg, #e74c3c, #f39c12, #2ecc71);
            border-radius: 5px;
            transition: width 0.5s ease;
        }

        .feedback-text {
            color: #666;
            line-height: 1.6;
        }

        .progress-section {
            background: white;
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
        }

        .progress-title {
            font-size: 1.3rem;
            font-weight: bold;
            color: #2c3e50;
            margin-bottom: 20px;
            text-align: center;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 15px;
        }

        .stat-item {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 10px;
            text-align: center;
        }

        .stat-number {
            font-size: 1.8rem;
            font-weight: bold;
            color: #2ecc71;
        }

        .stat-label {
            color: #666;
            font-size: 0.9rem;
            margin-top: 5px;
        }

        .recording-indicator {
            display: none;
            text-align: center;
            margin: 20px 0;
        }

        .recording-wave {
            display: inline-block;
            width: 4px;
            height: 20px;
            background: #e74c3c;
            margin: 0 2px;
            border-radius: 2px;
            animation: wave 1s infinite ease-in-out;
        }

        .recording-wave:nth-child(2) { animation-delay: 0.1s; }
        .recording-wave:nth-child(3) { animation-delay: 0.2s; }
        .recording-wave:nth-child(4) { animation-delay: 0.3s; }
        .recording-wave:nth-child(5) { animation-delay: 0.4s; }

        @keyframes wave {
            0%, 40%, 100% { transform: scaleY(0.4); }
            20% { transform: scaleY(1); }
        }

        @media (max-width: 768px) {
            .container {
                margin: 10px;
                padding: 20px;
            }

            .practice-modes {
                grid-template-columns: 1fr;
            }

            .controls {
                flex-direction: column;
                align-items: center;
            }

            .current-word {
                font-size: 2rem;
            }
        }
    </style>
</head>
<body>
    <a href="index.html" class="back-btn">â† è¿”å›ä¸»é¡µ</a>
    
    <div class="container">
        <div class="header">
            <h1>ğŸ¤ æ™ºèƒ½è‹±è¯­å£è¯­ç»ƒä¹ </h1>
            <p>AIè¯­éŸ³è¯†åˆ«ä¸å‘éŸ³è¯„æµ‹ç³»ç»Ÿ</p>
        </div>

        <div class="practice-modes">
            <div class="mode-card active" onclick="selectMode('words')">
                <div class="mode-icon">ğŸ“</div>
                <div class="mode-title">å•è¯ç»ƒä¹ </div>
                <div class="mode-desc">ç»ƒä¹ å•è¯å‘éŸ³</div>
            </div>
            <div class="mode-card" onclick="selectMode('sentences')">
                <div class="mode-icon">ğŸ’¬</div>
                <div class="mode-title">å¥å­ç»ƒä¹ </div>
                <div class="mode-desc">ç»ƒä¹ å¥å­è¡¨è¾¾</div>
            </div>
            <div class="mode-card" onclick="selectMode('dialogue')">
                <div class="mode-icon">ğŸ—£ï¸</div>
                <div class="mode-title">å¯¹è¯ç»ƒä¹ </div>
                <div class="mode-desc">æƒ…æ™¯å¯¹è¯è®­ç»ƒ</div>
            </div>
        </div>

        <div class="practice-area">
            <div class="word-display" id="contentDisplay">
                <div class="current-word" id="currentWord">Hello</div>
                <div class="word-phonetic" id="phonetic">/hÉ™ËˆloÊŠ/</div>
                <div class="word-meaning" id="meaning">ä½ å¥½ï¼Œé—®å€™è¯­</div>
                <div class="word-example" id="example">"Hello, how are you today?" - ä½ å¥½ï¼Œä½ ä»Šå¤©æ€ä¹ˆæ ·ï¼Ÿ</div>
            </div>

            <div class="controls">
                <button class="control-btn play-btn" onclick="playAudio()">
                    <span>ğŸ”Š</span> æ’­æ”¾ç¤ºèŒƒ
                </button>
                <button class="control-btn record-btn" id="recordBtn" onclick="toggleRecording()">
                    <span>ğŸ¤</span> <span id="recordText">å¼€å§‹å½•éŸ³</span>
                </button>
                <button class="control-btn next-btn" onclick="nextItem()">
                    <span>â­ï¸</span> ä¸‹ä¸€ä¸ª
                </button>
            </div>

            <div class="recording-indicator" id="recordingIndicator">
                <p>æ­£åœ¨å½•éŸ³ä¸­...</p>
                <div>
                    <span class="recording-wave"></span>
                    <span class="recording-wave"></span>
                    <span class="recording-wave"></span>
                    <span class="recording-wave"></span>
                    <span class="recording-wave"></span>
                </div>
            </div>

            <div class="feedback-area" id="feedbackArea">
                <div class="feedback-title">ğŸ¯ å‘éŸ³è¯„æµ‹ç»“æœ</div>
                <div class="pronunciation-score">
                    <span class="score-label">å‘éŸ³å‡†ç¡®åº¦ï¼š</span>
                    <span class="score-value" id="scoreValue">85%</span>
                </div>
                <div class="score-bar">
                    <div class="score-fill" id="scoreFill" style="width: 85%"></div>
                </div>
                <div class="feedback-text" id="feedbackText">
                    å¾ˆå¥½ï¼æ‚¨çš„å‘éŸ³åŸºæœ¬å‡†ç¡®ï¼Œå»ºè®®æ³¨æ„é‡éŸ³çš„ä½ç½®ã€‚
                </div>
            </div>
        </div>

        <div class="progress-section">
            <div class="progress-title">ğŸ“Š å­¦ä¹ è¿›åº¦</div>
            <div class="stats-grid">
                <div class="stat-item">
                    <div class="stat-number" id="totalPracticed">12</div>
                    <div class="stat-label">å·²ç»ƒä¹ </div>
                </div>
                <div class="stat-item">
                    <div class="stat-number" id="averageScore">82%</div>
                    <div class="stat-label">å¹³å‡åˆ†</div>
                </div>
                <div class="stat-item">
                    <div class="stat-number" id="perfectCount">5</div>
                    <div class="stat-label">å®Œç¾å‘éŸ³</div>
                </div>
                <div class="stat-item">
                    <div class="stat-number" id="streakCount">3</div>
                    <div class="stat-label">è¿ç»­æ­£ç¡®</div>
                </div>
            </div>
        </div>
    </div>

    <script>
        let currentMode = 'words';
        let currentIndex = 0;
        let isRecording = false;
        let stats = {
            totalPracticed: 12,
            scores: [85, 92, 78, 88, 95, 82, 90, 87, 93, 79, 86, 91],
            perfectCount: 5,
            streakCount: 3
        };

        const practiceData = {
            words: [
                { word: 'Hello', phonetic: '/hÉ™ËˆloÊŠ/', meaning: 'ä½ å¥½ï¼Œé—®å€™è¯­', example: '"Hello, how are you today?" - ä½ å¥½ï¼Œä½ ä»Šå¤©æ€ä¹ˆæ ·ï¼Ÿ' },
                { word: 'Apple', phonetic: '/ËˆÃ¦pÉ™l/', meaning: 'è‹¹æœ', example: '"I like to eat apples." - æˆ‘å–œæ¬¢åƒè‹¹æœã€‚' },
                { word: 'School', phonetic: '/skuËl/', meaning: 'å­¦æ ¡', example: '"I go to school every day." - æˆ‘æ¯å¤©éƒ½å»å­¦æ ¡ã€‚' },
                { word: 'Friend', phonetic: '/frend/', meaning: 'æœ‹å‹', example: '"She is my best friend." - å¥¹æ˜¯æˆ‘æœ€å¥½çš„æœ‹å‹ã€‚' },
                { word: 'Happy', phonetic: '/ËˆhÃ¦pi/', meaning: 'å¿«ä¹çš„ï¼Œé«˜å…´çš„', example: '"I am happy today." - æˆ‘ä»Šå¤©å¾ˆå¼€å¿ƒã€‚' },
                { word: 'Beautiful', phonetic: '/ËˆbjuËtÉªfÉ™l/', meaning: 'ç¾ä¸½çš„', example: '"The flower is beautiful." - è¿™æœµèŠ±å¾ˆç¾ä¸½ã€‚' }
            ],
            sentences: [
                { word: 'How are you?', phonetic: '/haÊŠ É‘Ër juË/', meaning: 'ä½ å¥½å—ï¼Ÿ', example: 'ç”¨äºé—®å€™åˆ«äººçš„èº«ä½“çŠ¶å†µæˆ–å¿ƒæƒ…' },
                { word: 'Nice to meet you.', phonetic: '/naÉªs tuË miËt juË/', meaning: 'å¾ˆé«˜å…´è§åˆ°ä½ ã€‚', example: 'åˆæ¬¡è§é¢æ—¶çš„ç¤¼è²Œç”¨è¯­' },
                { word: 'What is your name?', phonetic: '/wÊŒt Éªz jÊŠr neÉªm/', meaning: 'ä½ å«ä»€ä¹ˆåå­—ï¼Ÿ', example: 'è¯¢é—®åˆ«äººå§“åçš„å¸¸ç”¨å¥å­' },
                { word: 'I like English.', phonetic: '/aÉª laÉªk ËˆÉªÅ‹É¡lÉªÊƒ/', meaning: 'æˆ‘å–œæ¬¢è‹±è¯­ã€‚', example: 'è¡¨è¾¾å¯¹è‹±è¯­çš„å–œçˆ±' }
            ],
            dialogue: [
                { word: 'A: Good morning!\nB: Good morning!', phonetic: '/É¡ÊŠd ËˆmÉ”ËrnÉªÅ‹/', meaning: 'æ—©ä¸Šå¥½ï¼', example: 'æ—©æ™¨è§é¢æ—¶çš„é—®å€™å¯¹è¯' },
                { word: 'A: How old are you?\nB: I am eight years old.', phonetic: '/haÊŠ oÊŠld É‘Ër juË/', meaning: 'ä½ å‡ å²äº†ï¼Ÿæˆ‘å…«å²äº†ã€‚', example: 'è¯¢é—®å’Œå›ç­”å¹´é¾„çš„å¯¹è¯' }
            ]
        };

        function selectMode(mode) {
            currentMode = mode;
            currentIndex = 0;
            
            // æ›´æ–°æ¨¡å¼å¡ç‰‡æ ·å¼
            document.querySelectorAll('.mode-card').forEach(card => {
                card.classList.remove('active');
            });
            event.target.closest('.mode-card').classList.add('active');
            
            // æ›´æ–°æ˜¾ç¤ºå†…å®¹
            updateDisplay();
            
            // éšè—åé¦ˆ
            document.getElementById('feedbackArea').style.display = 'none';
        }

        function updateDisplay() {
            const data = practiceData[currentMode][currentIndex];
            
            document.getElementById('currentWord').textContent = data.word;
            document.getElementById('phonetic').textContent = data.phonetic;
            document.getElementById('meaning').textContent = data.meaning;
            document.getElementById('example').textContent = data.example;
        }

        function playAudio() {
            // æ¨¡æ‹Ÿæ’­æ”¾éŸ³é¢‘
            const button = event.target.closest('.play-btn');
            button.style.background = '#2980b9';
            
            // ä½¿ç”¨Web Speech APIæ’­æ”¾ï¼ˆå¦‚æœæ”¯æŒï¼‰
            if ('speechSynthesis' in window) {
                const utterance = new SpeechSynthesisUtterance(practiceData[currentMode][currentIndex].word);
                utterance.lang = 'en-US';
                utterance.rate = 0.8;
                speechSynthesis.speak(utterance);
            }
            
            setTimeout(() => {
                button.style.background = '#3498db';
            }, 1000);
        }

        function toggleRecording() {
            const recordBtn = document.getElementById('recordBtn');
            const recordText = document.getElementById('recordText');
            const indicator = document.getElementById('recordingIndicator');
            
            if (!isRecording) {
                // å¼€å§‹å½•éŸ³
                isRecording = true;
                recordBtn.classList.add('recording');
                recordText.textContent = 'åœæ­¢å½•éŸ³';
                indicator.style.display = 'block';
                
                // æ¨¡æ‹Ÿå½•éŸ³è¿‡ç¨‹
                setTimeout(() => {
                    if (isRecording) {
                        stopRecording();
                    }
                }, 3000);
                
            } else {
                // åœæ­¢å½•éŸ³
                stopRecording();
            }
        }

        function stopRecording() {
            isRecording = false;
            const recordBtn = document.getElementById('recordBtn');
            const recordText = document.getElementById('recordText');
            const indicator = document.getElementById('recordingIndicator');
            
            recordBtn.classList.remove('recording');
            recordText.textContent = 'å¼€å§‹å½•éŸ³';
            indicator.style.display = 'none';
            
            // æ¨¡æ‹ŸAIè¯„æµ‹
            setTimeout(() => {
                showFeedback();
            }, 1000);
        }

        function showFeedback() {
            const feedbackArea = document.getElementById('feedbackArea');
            const scoreValue = document.getElementById('scoreValue');
            const scoreFill = document.getElementById('scoreFill');
            const feedbackText = document.getElementById('feedbackText');
            
            // ç”Ÿæˆéšæœºåˆ†æ•°
            const score = Math.floor(Math.random() * 30) + 70; // 70-100åˆ†
            
            scoreValue.textContent = score + '%';
            scoreFill.style.width = score + '%';
            
            // æ ¹æ®åˆ†æ•°ç»™å‡ºåé¦ˆ
            let feedback = '';
            if (score >= 90) {
                feedback = 'ğŸ‰ å¤ªæ£’äº†ï¼æ‚¨çš„å‘éŸ³éå¸¸æ ‡å‡†ï¼Œç»§ç»­ä¿æŒï¼';
                stats.perfectCount++;
                stats.streakCount++;
            } else if (score >= 80) {
                feedback = 'ğŸ‘ å¾ˆå¥½ï¼å‘éŸ³åŸºæœ¬å‡†ç¡®ï¼Œå¯ä»¥å°è¯•æ³¨æ„è¯­è°ƒçš„å˜åŒ–ã€‚';
                stats.streakCount++;
            } else if (score >= 70) {
                feedback = 'ğŸ’ª ä¸é”™çš„å°è¯•ï¼å»ºè®®å¤šå¬å‡ éç¤ºèŒƒå‘éŸ³ï¼Œæ³¨æ„é‡éŸ³ä½ç½®ã€‚';
                stats.streakCount = 0;
            } else {
                feedback = 'ğŸ¤” éœ€è¦å¤šç»ƒä¹ å“¦ï¼å»ºè®®å…ˆå¬ç¤ºèŒƒå‘éŸ³ï¼Œç„¶åæ…¢æ…¢è·Ÿè¯»ã€‚';
                stats.streakCount = 0;
            }
            
            feedbackText.textContent = feedback;
            feedbackArea.style.display = 'block';
            
            // æ›´æ–°ç»Ÿè®¡
            stats.scores.push(score);
            stats.totalPracticed++;
            updateStats();
        }

        function nextItem() {
            currentIndex = (currentIndex + 1) % practiceData[currentMode].length;
            updateDisplay();
            document.getElementById('feedbackArea').style.display = 'none';
        }

        function updateStats() {
            document.getElementById('totalPracticed').textContent = stats.totalPracticed;
            
            const avgScore = Math.round(stats.scores.reduce((a, b) => a + b, 0) / stats.scores.length);
            document.getElementById('averageScore').textContent = avgScore + '%';
            
            document.getElementById('perfectCount').textContent = stats.perfectCount;
            document.getElementById('streakCount').textContent = stats.streakCount;
        }

        // åˆå§‹åŒ–
        updateDisplay();
        updateStats();

        // æ£€æŸ¥æµè§ˆå™¨æ”¯æŒ
        if (!('speechSynthesis' in window)) {
            console.log('æµè§ˆå™¨ä¸æ”¯æŒè¯­éŸ³åˆæˆ');
        }
    </script>
</body>
</html>